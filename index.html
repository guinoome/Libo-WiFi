<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="resources/index.css" type="text/css" />
<link rel="stylesheet" href="resources/adminlte.min.css" type="text/css" />

<!-- This is the script that forces client to open regular browser -->
<script src="resources/forced_browser.js"></script>

<style>
  .custom-swal-width {
      width: 380px;
  }
  label{
    display: block;
    margin-bottom: 5px;
    margin-top: 5px;
  }

</style>
<style>
  .custom-swal-width {
      width: 380px;
  }

  label {
    display: block;
    margin-bottom: 5px;
    margin-top: 5px;
  }

  /* CTA bounce + glow */
  .cta-glow-bounce {
    background-color: #0070BA;
    animation: bounce 1s infinite alternate, ctaGlow 1.5s infinite alternate;
    border-radius: 50px;
    box-shadow: 0 0 10px #0070BA;
    font-weight: bold;
    padding: 10px 30px;
    transition: transform 0.3s ease-in-out;
  }

  @keyframes bounce {
    0% { transform: translateY(0); }
    100% { transform: translateY(-8px); }
  }

  @keyframes ctaGlow {
    0% { box-shadow: 0 0 5px #0070BA; }
    100% { box-shadow: 0 0 20px #0070BA; }
  }

  /* Rainbow glowing promo dropdown */
  @keyframes rainbowGlow {
    0% { box-shadow: 0 0 10px red; }
    20% { box-shadow: 0 0 10px orange; }
    40% { box-shadow: 0 0 10px yellow; }
    60% { box-shadow: 0 0 10px green; }
    80% { box-shadow: 0 0 10px blue; }
    100% { box-shadow: 0 0 10px violet; }
  }

  .glow-rainbow {
    animation: rainbowGlow 1s infinite alternate;
    border-radius: 8px;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    loadVoucherStoreContent();
  });

  function loadVoucherStoreContent() {
    document.getElementById("login").classList.add("show");
    document.getElementById("login").classList.add("active");
  }
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
      const operHint = document.getElementById("oper-hint");
  
      const observer = new MutationObserver((mutations) => {
          mutations.forEach((mutation) => {
              if (mutation.type === "childList" && operHint.innerText) {
                  Swal.fire({
                      title: "Notice",
                      text: operHint.innerText, 
                      icon: "warning",          
                      confirmButtonText: "OK",
                  }).then(() => {
                      setTimeout(() => {
                      }, 3000);
                  });
              }
          });
      });
  
      observer.observe(operHint, { childList: true });
  });
</script>
  
  

<body class="portal">

  <div>
    <div class="wave"></div>
    <div class="wave"></div>
  </div>
  
  <img class="mx-auto d-block img-fluid mt-2" src="resources/logo.png" style="width: 120px; height: auto; margin-bottom: 10px; border-radius: 5px;">


    

    <div class="container">
      <div class="row justify-content-center p-3">
        <div class="card card-outline card-tabs" style="width: 480px; border-radius: 15px;">
            <div class="card-header p-0 pt-1 border-bottom-0 ml-2">
                <ul class="nav nav-tabs" id="klcis-tab" role="tablist">

                  <li class="nav-item">
                    <a class="nav-link active" id="login-tab" data-toggle="pill" href="#login" role="tab" aria-controls="login" aria-selected="true">Login</a>
                    </li>

                    <li class="nav-item">
                    <a class="nav-link" id="voucher-tab" data-toggle="pill" href="#voucher" role="tab" aria-controls="voucher" aria-selected="false">E-Voucher</a>
                    </li>

                    </li>      
                </ul>
          </div>

          <div class="card-body">

            <div class="tab-content" id="klcis-tabContent">

                <div class="tab-pane fade" id="login" role="tabpanel" aria-labelledby="login-tab">

<div class="text-center my-3">
  <button id="scrollToVoucher" class="btn btn-lg text-white cta-glow-bounce">
    ðŸ’³ E-Voucher Available
  </button>
</div>
			 <!-- GCash / Maya / SpayLater logos -->
		       <div class="d-flex justify-content-between gap-2 my-3">
			<div class="flex-fill text-center mx-1">
    			 <img src="resources/gcash_logo.png" alt="GCash" style="height: 32px; width: auto;">
                        </div>
                        <div class="flex-fill text-center mx-1">
                           <img src="resources/maya_logo.png" alt="Maya" style="height: 30px; width: auto;">
                        </div>
                        <div class="flex-fill text-center mx-1">
                           <img src="resources/spay_logo.png" alt="SpayLater" style="height: 32px; width: auto;">
                        </div>
                       </div>

                <p class="text-center text-gray h6">Enter the voucher code and enjoy FREE Movies.</p>
                <div class="oper-section-outer">
                  <div class="oper-section-inner">
                      <span id="oper-hint" style="color: red; display: none;"></span>
                      <div id="hotspot-section">
                          <select id="hotspot-selector" class="oper-section-item" style="display:none;"></select>
                      </div>
                      <form id="login-form">
                          <div id="input-voucher">
                              <input id="voucherCode" class="oper-section-item input" name="voucherCode" type="text" placeholder="Voucher Code" />                          <input name="clientMac" id="cMac" style="display:none"/>
                          <input name="radiusSvrIp" id="radiusServerIp" style="display:none"/>
                     </form>

<!-- Add logos below -->
<div class="d-flex justify-content-between gap-2 my-3">
</div>

                          <button id="button-login" class="btn btn-block btn-warning btn-lg text-white">LOGIN</button>
                      

		      </div>
                  </div>
              </div>

            </div>
		      

              <div class="tab-pane fade" id="voucher" role="tabpanel" aria-labelledby="voucher-tab">
                <!-- <div class="text-center text-gray h4">KLCiS Voucher Store</div> -->

                <form id="paymentForm" action="https://s2.klinternetservices.com/xendit/ewallet" method="GET">
                  
                    <input type="hidden" class="form-control" id="method" name="method" value=""></input> 
                    <div class="form-group mt-3">
                            <label class="text-muted text-sm" for="amountDropdown">Select promo:</label>
                            <select id="amountDropdown" name="amount" class="form-control text-lg btn-block">
              
                            <!--PAKI-EDIT NG VALUE SAKA DESCRIPTION BASE SA VOUCHER AMOUNT NA NAKA-UPLOAD SA IYONG KLCIS ACCOUNT -->
			    <option value="6">â‚±6.00 - 3 Hours UNLI WiFi</option>
			    <option value="12">â‚±12.00 - 7 Hours UNLI WiFi</option>
			    <option value="25">â‚±25.00 - 1 Day UNLI WiFi</option>
                            <option value="60">â‚±60.00 - 3 Days UNLI WiFi</option>
                            <option value="85">â‚±85.00 - 7 Days UNLI WiFi</option>
                            </select>
              
              
                         <!--PAKI-PALITAN ANG value="PUT_YOUR_KLCIS_API_KEY_HERE" ng iyong KLCiS API KEY-->
                        <input type="hidden" class="form-control" id="tokenInput" name="token" value="7z62ZWE2ORTHHJ6N1PZIZ5hfb">
						
						
                        <label class="text-muted text-sm mt-1" for="numberInput">Mobile number for SMS notification:</label>
                        <input type="tel" id="numberInput" class="form-control text-center text-lg" style="width:100%; letter-spacing: 3px;" placeholder="e.g. 09912346789" name="number" pattern="[0]{1}[9]{1}[0-9]{9}" autocomplete="tel" required>
                    <div class="d-flex justify-content-between gap-2 mt-3 mb-2">
  <button type="submit" class="btn btn-md btn-primary flex-fill mx-1 rounded-pill" id="gcash">
    <img src="resources/gcash_logo.png" style="height: 28px; width: 120px;">
  </button>
  <button type="submit" class="btn btn-md btn-success flex-fill mx-1 rounded-pill" id="maya">
    <img src="resources/maya_logo.png" style="height: 25px; width: 80px;">
  </button>
  <button type="submit" class="btn btn-md btn-warning flex-fill mx-1 rounded-pill" id="spay">
    <img src="resources/spay_logo.png" style="height: 28px; width: 75px;">
  </button>
</div>

                </form>
                <div class="text-center">                  
                  <button class="btn btn-md btn-primary rounded-pill mt-2" id="generate_qr"><i class="fas fa-qrcode"></i> Generate QR</button>                
                </div>
                <div id="qrcode" style="display: none;"></div>               
              </div>

              <div class="tab-pane fade" id="transactions" role="tabpanel" aria-labelledby="transactions-tab">
                <form id="checkNumberForm">
                  <div class="form-group">
                    <input type="text" name="getVouchers" id="getVouchers" value="vouchers" hidden></input>
                    <input type="text" name="getTransactions" id="getTransactions" value="transactions" hidden></input>
      
                    <label class="text-muted text-sm" for="numberSearch">Mobile number:</label>
                    <input type="tel" name="numberSearch" id="numberSearch" class="form-control text-center text-lg" style="width:100%; letter-spacing: 3px;" placeholder="e.g. 09912346789" pattern="[0]{1}[9]{1}[0-9]{9}" autocomplete="tel" required>            
                    <label class="text-muted text-sm mt-1" for="key">KLCiS Client API Secret:</label>
                    <input type="password" name="key" id="key" class="form-control text-center text-lg" placeholder="KLCIS Client API Secret" required>
                  </div>
                      <button type="submit" id="checkVouchers" class="btn btn-md btn-success btn-block rounded-pill mb-2">Check Vouchers</button>
                      <button type="submit" id="checkTransactions" class="btn btn-md btn-primary btn-block rounded-pill mb-2">Check Transactions</button>
                  </form>
      
                  <div id="vouchersTable" style="display: none;">
                    <table class="table table-sm table-bordered table-fluid table-hover">
                        <thead>
                            <tr>
                                <th class="text-sm text-muted">Date</th>
                                <th class="text-sm text-center text-muted">Voucher</th>
                                <th class="text-sm text-center text-muted">Amount</th>
                                <th class="text-sm text-muted">Transaction Code</th>
                            </tr>
                        </thead>
                        <tbody id="vouchersTableBody">
                        </tbody>
                    </table>
                </div>
      
                <div id="transactionTable" style="display: none;">
                  <table class="table table-sm table-bordered table-hover">
                      <thead>
                          <tr>
                              <th class="text-sm text-muted">Date</th>
                              <th class="text-sm text-center text-muted">Status</th>
                              <th class="text-sm text-center text-muted">Amount</th>
                              <th class="text-sm text-center text-muted">Check Status</th>
                          </tr>
                      </thead>
                      <tbody id="transactionTableBody">
                      </tbody>
                  </table>
              </div>
      
              <div class="text-center text-xs text-muted" id="result"></div>
              </div>
              <hr>
             </p>            
          </div>
        </div>      
      </div>
    </div>
  </div>   
    
<script>
document.addEventListener("DOMContentLoaded", function () {
  const ctaButton = document.getElementById("scrollToVoucher");
  const voucherTab = document.getElementById("voucher-tab");
  const voucherPane = document.getElementById("voucher");
  const amountDropdown = document.getElementById("amountDropdown");

  ctaButton.addEventListener("click", function () {
    // Activate the voucher tab
    voucherTab.click();

    // Wait for tab to show then scroll
    setTimeout(() => {
      voucherPane.scrollIntoView({ behavior: "smooth" });

      // Glow transfer effect
      amountDropdown.classList.add("glow-rainbow");

      // Stop glow after 25s
      setTimeout(() => {
        amountDropdown.classList.remove("glow-rainbow");
      }, 25000);
    }, 500);
  });

  // Re-trigger glow if user clicks the dropdown
  amountDropdown.addEventListener("click", function () {
    amountDropdown.classList.add("glow-rainbow");
    setTimeout(() => {
      amountDropdown.classList.remove("glow-rainbow");
    }, 25000);
  });
});
</script>

<!-- END OF KLCIS VOUCHER SYSTEM CODE -->

<!-- KLCiS Necessary scripts! DO NOT REMOVE! -->
<script src="resources/index.js"></script>
<script src="resources/qr.js"></script>
<script src="resources/jquery.min.js"></script>
<script src="resources/klcis.js"></script>

<!-- Assets -->
<script src="resources/alert.js"></script>
<script src="resources/bootstrap.bundle.min.js"></script>
<script src="resources/adminlte.min.js"></script>

</body>
</html>
